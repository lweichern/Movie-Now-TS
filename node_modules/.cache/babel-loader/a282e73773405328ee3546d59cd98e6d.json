{"ast":null,"code":"import _asyncToGenerator from\"D:/Web Dev/React Course/Project/MovieNow-TS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Web Dev/React Course/Project/MovieNow-TS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Web Dev\\\\React Course\\\\Project\\\\MovieNow-TS\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import API_Details from\"../../API_Details\";import Header from\"../MoviesPage/Header/Header\";import{Container}from\"../../Styles/CommonStyles/Container\";import Grid from\"../Common/Grid/Grid\";import Carousel from\"../HomePage/Carousel/Carousel\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MovieDetails(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),movieCredits=_useState4[0],setMovieCredits=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),recommendedMovies=_useState6[0],setRecommendedMovies=_useState6[1];var _ref=useParams(),movieId=_ref.movieId;useEffect(function(){fetchMovie();fetchMovieCredits();},[]);useEffect(function(){fetchSimilarMovies();},[movieId]);console.log(recommendedMovies);var fetchMovie=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _movie;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API_Details.fetchMovie(movieId);case 3:_movie=_context.sent;setMovie(_movie);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchMovie(){return _ref2.apply(this,arguments);};}();var fetchMovieCredits=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _movie2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return API_Details.fetchMovieCredits(movieId);case 3:_movie2=_context2.sent;setMovieCredits(_movie2);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function fetchMovieCredits(){return _ref3.apply(this,arguments);};}();var fetchSimilarMovies=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var recommendedMovies;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return API_Details.fetchSimilarMovies(movieId);case 2:recommendedMovies=_context3.sent;setRecommendedMovies(recommendedMovies.results);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchSimilarMovies(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[movie&&/*#__PURE__*/_jsx(Header,{headerMovie:movie,genreList:movie.genres}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Grid,{headerTitle:\"Actors\",castList:movieCredits}),recommendedMovies.length!==0&&/*#__PURE__*/_jsx(Carousel,{carouselTitle:\"Recommended Movies\",movieList:recommendedMovies,autoplay:true})]})]});}","map":{"version":3,"sources":["D:/Web Dev/React Course/Project/MovieNow-TS/src/Components/MovieDetails/MovieDetails.tsx"],"names":["React","useEffect","useState","useParams","API_Details","Header","Container","Grid","Carousel","MovieDetails","movie","setMovie","movieCredits","setMovieCredits","recommendedMovies","setRecommendedMovies","movieId","fetchMovie","fetchMovieCredits","fetchSimilarMovies","console","log","results","genres","length"],"mappings":"+YAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,mBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,OAASC,SAAT,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,qBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,+BAArB,C,wFAGA,cAAe,SAASC,CAAAA,YAAT,EAAwB,CACrC,cAA0BP,QAAQ,EAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAwCT,QAAQ,EAAhD,yCAAOU,YAAP,eAAqBC,eAArB,eACA,eAAkDX,QAAQ,CAAC,EAAD,CAA1D,yCAAOY,iBAAP,eAA0BC,oBAA1B,eAEA,SAAoBZ,SAAS,EAA7B,CAAQa,OAAR,MAAQA,OAAR,CAEAf,SAAS,CAAC,UAAM,CACdgB,UAAU,GACVC,iBAAiB,GAClB,CAHQ,CAGN,EAHM,CAAT,CAKAjB,SAAS,CAAC,UAAM,CACdkB,kBAAkB,GACnB,CAFQ,CAEN,CAACH,OAAD,CAFM,CAAT,CAIAI,OAAO,CAACC,GAAR,CAAYP,iBAAZ,EAEA,GAAMG,CAAAA,UAAU,2FAAG,oLAEKb,CAAAA,WAAW,CAACa,UAAZ,CAAuBD,OAAvB,CAFL,QAETN,MAFS,eAGfC,QAAQ,CAACD,MAAD,CAAR,CAHe,+EAKfU,OAAO,CAACC,GAAR,cALe,oEAAH,kBAAVJ,CAAAA,UAAU,2CAAhB,CASA,GAAMC,CAAAA,iBAAiB,2FAAG,4LAEFd,CAAAA,WAAW,CAACc,iBAAZ,CAA8BF,OAA9B,CAFE,QAEhBN,OAFgB,gBAGtBG,eAAe,CAACH,OAAD,CAAf,CAHsB,mFAKtBU,OAAO,CAACC,GAAR,eALsB,sEAAH,kBAAjBH,CAAAA,iBAAiB,2CAAvB,CASA,GAAMC,CAAAA,kBAAkB,2FAAG,qLACOf,CAAAA,WAAW,CAACe,kBAAZ,CAC9BH,OAD8B,CADP,QACnBF,iBADmB,gBAIzBC,oBAAoB,CAACD,iBAAiB,CAACQ,OAAnB,CAApB,CAJyB,wDAAH,kBAAlBH,CAAAA,kBAAkB,2CAAxB,CAOA,mBACE,uBACGT,KAAK,eAAI,KAAC,MAAD,EAAQ,WAAW,CAAEA,KAArB,CAA4B,SAAS,CAAEA,KAAK,CAACa,MAA7C,EADZ,cAEE,MAAC,SAAD,yBACE,KAAC,IAAD,EAAM,WAAW,CAAC,QAAlB,CAA2B,QAAQ,CAAEX,YAArC,EADF,CAEGE,iBAAiB,CAACU,MAAlB,GAA6B,CAA7B,eACC,KAAC,QAAD,EACE,aAAa,CAAC,oBADhB,CAEE,SAAS,CAAEV,iBAFb,CAGE,QAAQ,CAAE,IAHZ,EAHJ,GAFF,GADF,CAeD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport API_Details from \"../../API_Details\";\r\nimport Header from \"../MoviesPage/Header/Header\";\r\nimport { Container } from \"../../Styles/CommonStyles/Container\";\r\nimport Grid from \"../Common/Grid/Grid\";\r\nimport Carousel from \"../HomePage/Carousel/Carousel\";\r\nimport { MovieState } from \"../../Pages/Home\";\r\n\r\nexport default function MovieDetails() {\r\n  const [movie, setMovie] = useState<MovieState>();\r\n  const [movieCredits, setMovieCredits] = useState();\r\n  const [recommendedMovies, setRecommendedMovies] = useState([]);\r\n\r\n  const { movieId } = useParams() as any;\r\n\r\n  useEffect(() => {\r\n    fetchMovie();\r\n    fetchMovieCredits();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchSimilarMovies();\r\n  }, [movieId]);\r\n\r\n  console.log(recommendedMovies);\r\n\r\n  const fetchMovie = async () => {\r\n    try {\r\n      const movie = await API_Details.fetchMovie(movieId as number);\r\n      setMovie(movie);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchMovieCredits = async () => {\r\n    try {\r\n      const movie = await API_Details.fetchMovieCredits(movieId as number);\r\n      setMovieCredits(movie);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchSimilarMovies = async () => {\r\n    const recommendedMovies = await API_Details.fetchSimilarMovies(\r\n      movieId as number\r\n    );\r\n    setRecommendedMovies(recommendedMovies.results);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {movie && <Header headerMovie={movie} genreList={movie.genres} />}\r\n      <Container>\r\n        <Grid headerTitle=\"Actors\" castList={movieCredits} />\r\n        {recommendedMovies.length !== 0 && (\r\n          <Carousel\r\n            carouselTitle=\"Recommended Movies\"\r\n            movieList={recommendedMovies}\r\n            autoplay={true}\r\n          />\r\n        )}\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}