{"ast":null,"code":"import _slicedToArray from\"D:/Web Dev/React Course/Project/MovieNow-TS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{Swiper,SwiperSlide}from\"swiper/react\";import{Title,SwiperImage,SwiperMovieTitleContainer,SwiperMovieTitle,SwiperSlideContainer}from\"./Carousel.styled\";import{useTheme}from\"styled-components\";// Import Swiper styles\nimport\"swiper/css\";import\"swiper/css/lazy\";import\"swiper/css/pagination\";import\"swiper/css/navigation\";import{Lazy,Pagination,Navigation,Autoplay}from\"swiper\";import api_details from\"../../../API_Details\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Carousel=function Carousel(_ref){var movieList=_ref.movieList,carouselTitle=_ref.carouselTitle,autoplay=_ref.autoplay;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),stopCarousel=_useState2[0],setStopCarousel=_useState2[1];var swiperRef=useRef(null);// Use theme from App.js\nvar theme=useTheme();// Stop and start carousel when mouse hover\nuseEffect(function(){// if (autoplay) {\n//   if (stopCarousel) {\n//     swiperRef.current.swiper.autoplay.stop();\n//   } else {\n//     swiperRef.current.swiper.autoplay.start();\n//   }\n// }\n},[stopCarousel]);// Framer motion variants\nvar imageVariants={rest:{opacity:0.6},hover:{opacity:1,transition:{duration:0.4,type:\"tween\",ease:\"easeOut\"}}};var textVariants={rest:{opacity:1,y:\"-50%\",x:\"-50%\"},hover:{opacity:0,y:\"-30%\",x:\"-50%\",transition:{duration:0.4,type:\"tween\",ease:\"easeOut\"}}};// timeout to reload the page after 10 miliseconds\nvar handleMovieLink=function handleMovieLink(){setTimeout(function(){window.location.reload();},10);};//   const SwiperStyles = {\n//     \"--swiper-navigation-color\": theme.colors.content1\n//   }\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Title,{children:carouselTitle}),/*#__PURE__*/_jsx(Swiper,{slidesPerView:1,spaceBetween:20,loop:true,lazy:true,pagination:{clickable:true},navigation:true,modules:autoplay?[Lazy,Pagination,Navigation,Autoplay]:[Lazy,Pagination,Navigation],autoplay:{delay:2500,disableOnInteraction:false},breakpoints:{768:{slidesPerView:3,spaceBetween:30,slidesPerGroup:3}},className:\"mySwiper\"// ref={swiperRef}\n,children:movieList.map(function(movie){return/*#__PURE__*/_jsx(SwiperSlide,{style:{width:\"33%\"},onMouseOver:function onMouseOver(){return setStopCarousel(true);},onMouseOut:function onMouseOut(){return setStopCarousel(false);},children:/*#__PURE__*/_jsx(Link,{to:\"/movies/movie-details/\".concat(movie.id),children:/*#__PURE__*/_jsxs(SwiperSlideContainer,{initial:\"rest\",whileHover:\"hover\",animate:\"rest\",onClick:handleMovieLink,children:[/*#__PURE__*/_jsx(SwiperImage,{\"data-src\":\"\".concat(api_details.IMAGE_BASE_URL).concat(api_details.BACKDROP_SIZE).concat(movie.backdrop_path),className:\"swiper-lazy\",style:{width:\"100%\",overflow:\"visible\"},variants:imageVariants}),/*#__PURE__*/_jsx(SwiperMovieTitleContainer,{variants:textVariants,children:/*#__PURE__*/_jsx(SwiperMovieTitle,{children:movie.title!==undefined?movie.title:movie.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"swiper-lazy-preloader swiper-lazy-preloader-white\"})]})})},movie.id);})})]});};export default Carousel;","map":{"version":3,"sources":["D:/Web Dev/React Course/Project/MovieNow-TS/src/Components/HomePage/Carousel/Carousel.tsx"],"names":["React","useEffect","useRef","useState","Swiper","SwiperSlide","Title","SwiperImage","SwiperMovieTitleContainer","SwiperMovieTitle","SwiperSlideContainer","useTheme","Lazy","Pagination","Navigation","Autoplay","api_details","Link","Carousel","movieList","carouselTitle","autoplay","stopCarousel","setStopCarousel","swiperRef","theme","imageVariants","rest","opacity","hover","transition","duration","type","ease","textVariants","y","x","handleMovieLink","setTimeout","window","location","reload","clickable","delay","disableOnInteraction","slidesPerView","spaceBetween","slidesPerGroup","map","movie","width","id","IMAGE_BASE_URL","BACKDROP_SIZE","backdrop_path","overflow","title","undefined","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport {\r\n  Title,\r\n  SwiperImage,\r\n  SwiperMovieTitleContainer,\r\n  SwiperMovieTitle,\r\n  SwiperSlideContainer,\r\n} from \"./Carousel.styled\";\r\nimport { DefaultTheme, useTheme } from \"styled-components\";\r\nimport { MovieState } from \"../../../Pages/Home\";\r\nimport { ThemeType } from \"../../../App\";\r\n\r\n// Import Swiper styles\r\nimport \"swiper/css\";\r\nimport \"swiper/css/lazy\";\r\nimport \"swiper/css/pagination\";\r\nimport \"swiper/css/navigation\";\r\nimport { SwiperProps } from \"swiper/react\";\r\n\r\nimport SwiperCore, { Lazy, Pagination, Navigation, Autoplay } from \"swiper\";\r\n\r\nimport api_details from \"../../../API_Details\";\r\n\r\nimport { Container } from \"../../../Styles/CommonStyles/Container\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype CarouselState = {\r\n  movieList: MovieState[];\r\n  carouselTitle: string;\r\n  autoplay: boolean;\r\n};\r\n\r\nconst Carousel: React.FC<CarouselState> = ({\r\n  movieList,\r\n  carouselTitle,\r\n  autoplay,\r\n}) => {\r\n  const [stopCarousel, setStopCarousel] = useState<boolean>(false);\r\n  const swiperRef = useRef<SwiperCore>(null);\r\n\r\n  // Use theme from App.js\r\n  const theme: DefaultTheme = useTheme();\r\n\r\n  // Stop and start carousel when mouse hover\r\n  useEffect(() => {\r\n    // if (autoplay) {\r\n    //   if (stopCarousel) {\r\n    //     swiperRef.current.swiper.autoplay.stop();\r\n    //   } else {\r\n    //     swiperRef.current.swiper.autoplay.start();\r\n    //   }\r\n    // }\r\n  }, [stopCarousel]);\r\n\r\n  // Framer motion variants\r\n  const imageVariants = {\r\n    rest: {\r\n      opacity: 0.6,\r\n    },\r\n    hover: {\r\n      opacity: 1,\r\n      transition: {\r\n        duration: 0.4,\r\n        type: \"tween\",\r\n        ease: \"easeOut\",\r\n      },\r\n    },\r\n  };\r\n\r\n  const textVariants = {\r\n    rest: {\r\n      opacity: 1,\r\n      y: \"-50%\",\r\n      x: \"-50%\",\r\n    },\r\n    hover: {\r\n      opacity: 0,\r\n      y: \"-30%\",\r\n      x: \"-50%\",\r\n      transition: {\r\n        duration: 0.4,\r\n        type: \"tween\",\r\n        ease: \"easeOut\",\r\n      },\r\n    },\r\n  };\r\n\r\n  // timeout to reload the page after 10 miliseconds\r\n  const handleMovieLink = () => {\r\n    setTimeout(function () {\r\n      window.location.reload();\r\n    }, 10);\r\n  };\r\n\r\n  //   const SwiperStyles = {\r\n  //     \"--swiper-navigation-color\": theme.colors.content1\r\n  //   }\r\n\r\n  return (\r\n    <>\r\n      <Title>{carouselTitle}</Title>\r\n      <Swiper\r\n        slidesPerView={1}\r\n        spaceBetween={20}\r\n        loop={true}\r\n        lazy={true}\r\n        pagination={{\r\n          clickable: true,\r\n        }}\r\n        navigation={true}\r\n        modules={\r\n          autoplay\r\n            ? [Lazy, Pagination, Navigation, Autoplay]\r\n            : [Lazy, Pagination, Navigation]\r\n        }\r\n        autoplay={{\r\n          delay: 2500,\r\n          disableOnInteraction: false,\r\n        }}\r\n        breakpoints={{\r\n          768: {\r\n            slidesPerView: 3,\r\n            spaceBetween: 30,\r\n            slidesPerGroup: 3,\r\n          },\r\n        }}\r\n        className=\"mySwiper\"\r\n\r\n        // ref={swiperRef}\r\n      >\r\n        {movieList.map((movie) => {\r\n          return (\r\n            <SwiperSlide\r\n              style={{ width: \"33%\" }}\r\n              key={movie.id}\r\n              onMouseOver={() => setStopCarousel(true)}\r\n              onMouseOut={() => setStopCarousel(false)}\r\n            >\r\n              <Link to={`/movies/movie-details/${movie.id}`}>\r\n                <SwiperSlideContainer\r\n                  initial=\"rest\"\r\n                  whileHover=\"hover\"\r\n                  animate=\"rest\"\r\n                  onClick={handleMovieLink}\r\n                >\r\n                  <SwiperImage\r\n                    data-src={`${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${movie.backdrop_path}`}\r\n                    className=\"swiper-lazy\"\r\n                    style={{ width: \"100%\", overflow: \"visible\" }}\r\n                    variants={imageVariants}\r\n                  />\r\n                  <SwiperMovieTitleContainer variants={textVariants}>\r\n                    <SwiperMovieTitle>\r\n                      {movie.title !== undefined ? movie.title : movie.name}\r\n                    </SwiperMovieTitle>\r\n                  </SwiperMovieTitleContainer>\r\n                  <div className=\"swiper-lazy-preloader swiper-lazy-preloader-white\"></div>\r\n                </SwiperSlideContainer>\r\n              </Link>\r\n            </SwiperSlide>\r\n          );\r\n        })}\r\n      </Swiper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n"]},"metadata":{},"sourceType":"module"}