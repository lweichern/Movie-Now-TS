{"ast":null,"code":"import _asyncToGenerator from\"D:/Web Dev/React Course/Project/MovieNow-TS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Web Dev/React Course/Project/MovieNow-TS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Web Dev\\\\React Course\\\\Project\\\\MovieNow-TS\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import api_details from\"../../../API_Details\";// Styled Components\nimport{BackgroundHeaderImage,BlurredOverlay,MovieCard,MovieCardImage,Title,Content,Synopsis,MovieDetails,Ratings,Director,RunTime,Budget,MovieGenreContainer,MovieGenre,Tabs,TabsContentMovieDetails,TabsContentTrailer,Trailer}from\"./Header.styled\";// Calculations file\nimport Calculations from\"../../../Calculations\";// No Image picture\nimport NoImage from\"../../../Images/no_image.jpg\";import{Link}from\"react-router-dom\";import{motion,AnimatePresence}from\"framer-motion\";// Movie Type\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(_ref){var headerMovie=_ref.headerMovie,genreList=_ref.genreList;var _useState=useState(),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),directors=_useState4[0],setDirectors=_useState4[1];var _useState5=useState(\"Movie Details\"),_useState6=_slicedToArray(_useState5,2),headerTab=_useState6[0],setHeaderTab=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),movieTrailerKey=_useState8[0],setMovieTrailerKey=_useState8[1];var _useState9=useState(\"portrait\"),_useState10=_slicedToArray(_useState9,2),headerImageOrientation=_useState10[0],setHeaderImageOrientation=_useState10[1];useEffect(function(){fetchMovie();fetchMovieCredits();},[headerMovie]);useEffect(function(){fetchMovieTrailer();},[movie]);var ChildVariants={hidden:{opacity:0,y:40},visible:{opacity:1,y:0}};var fetchMovie=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _movie;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api_details.fetchMovie(headerMovie.id);case 3:_movie=_context.sent;setMovie(_movie);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchMovie(){return _ref2.apply(this,arguments);};}();var fetchMovieCredits=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var credits,director;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api_details.fetchMovieCredits(headerMovie.id);case 3:credits=_context2.sent;director=credits.crew.filter(function(member){return member.job===\"Director\";});setDirectors(director);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function fetchMovieCredits(){return _ref3.apply(this,arguments);};}();var changeTab=function changeTab(event){var currentTab=event.currentTarget.textContent;setHeaderTab(currentTab);};var fetchMovieTrailer=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var trailerAPI,trailerResults,trailer;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api_details.fetchMovieTrailer(movie.id);case 3:trailerAPI=_context3.sent;trailerResults=trailerAPI.results;trailer=trailerResults.length>1?trailerResults.find(function(item){return item.name.includes(\"Official Trailer\");}):trailerResults[0];setMovieTrailerKey(trailer.key);_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function fetchMovieTrailer(){return _ref4.apply(this,arguments);};}();window.addEventListener(\"resize\",function(){if(window.innerWidth>1024){setHeaderImageOrientation(\"landscape\");}else{setHeaderImageOrientation(\"portrait\");}});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(BackgroundHeaderImage,{image:\"\".concat(api_details.IMAGE_BASE_URL).concat(api_details.BACKDROP_SIZE).concat(headerMovie.backdrop_path),children:/*#__PURE__*/_jsx(BlurredOverlay,{children:/*#__PURE__*/_jsxs(MovieCard,{children:[/*#__PURE__*/_jsx(MovieCardImage,{src:headerMovie.poster_path!==null?headerImageOrientation===\"landscape\"?\"\".concat(api_details.IMAGE_BASE_URL).concat(api_details.POSTER_SIZE).concat(headerMovie.poster_path):\"\".concat(api_details.IMAGE_BASE_URL).concat(api_details.BACKDROP_SIZE).concat(headerMovie.backdrop_path):NoImage}),/*#__PURE__*/_jsxs(Content,{genreList:genreList,children:[/*#__PURE__*/_jsxs(Tabs,{genreList:genreList,children:[/*#__PURE__*/_jsx(TabsContentMovieDetails,{onClick:changeTab,currentTab:headerTab,children:\"Movie Details\"}),/*#__PURE__*/_jsx(TabsContentTrailer,{onClick:changeTab,currentTab:headerTab,children:\"Trailer\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:headerTab===\"Movie Details\"?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.4},exit:{opacity:0,x:-20},children:[/*#__PURE__*/_jsx(Title,{children:headerMovie.title}),/*#__PURE__*/_jsx(Synopsis,{children:headerMovie.overview}),/*#__PURE__*/_jsxs(MovieDetails,{children:[/*#__PURE__*/_jsxs(Ratings,{className:\"info-column\",variants:ChildVariants,initial:\"hidden\",animate:\"visible\",transition:{delay:0.2},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Ratings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ratings-score\",children:movie&&movie.vote_average})]}),/*#__PURE__*/_jsxs(Director,{className:\"info-column\",variants:ChildVariants,initial:\"hidden\",animate:\"visible\",transition:{delay:0.35},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Director\"}),directors.length!==0&&directors.map(function(director){return/*#__PURE__*/_jsx(\"p\",{children:director.name},director.name);})]}),/*#__PURE__*/_jsxs(RunTime,{className:\"info-column\",variants:ChildVariants,initial:\"hidden\",animate:\"visible\",transition:{delay:0.4},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Run Time\"}),/*#__PURE__*/_jsx(\"p\",{children:movie&&Calculations.convertTime(movie.runtime)})]}),/*#__PURE__*/_jsxs(Budget,{className:\"info-column\",variants:ChildVariants,initial:\"hidden\",animate:\"visible\",transition:{delay:0.5},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Budget\"}),/*#__PURE__*/_jsx(\"p\",{children:movie&&Calculations.convertMoney(movie.budget)})]})]})]}):/*#__PURE__*/_jsx(Trailer,{width:\"100%\",height:\"100%\",src:\"https://www.youtube.com/embed/\".concat(movieTrailerKey,\"?autoplay=1&mute=1\")})}),genreList&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Genres\"}),/*#__PURE__*/_jsx(MovieGenreContainer,{children:genreList.map(function(genre){return/*#__PURE__*/_jsx(Link,{to:\"/movies/genre/\".concat(genre.id),children:/*#__PURE__*/_jsx(MovieGenre,{children:genre.name})},genre.id);})})]})]})]})})})});};export default Header;","map":{"version":3,"sources":["D:/Web Dev/React Course/Project/MovieNow-TS/src/Components/MoviesPage/Header/Header.tsx"],"names":["React","useState","useEffect","api_details","BackgroundHeaderImage","BlurredOverlay","MovieCard","MovieCardImage","Title","Content","Synopsis","MovieDetails","Ratings","Director","RunTime","Budget","MovieGenreContainer","MovieGenre","Tabs","TabsContentMovieDetails","TabsContentTrailer","Trailer","Calculations","NoImage","Link","motion","AnimatePresence","Header","headerMovie","genreList","movie","setMovie","directors","setDirectors","headerTab","setHeaderTab","movieTrailerKey","setMovieTrailerKey","headerImageOrientation","setHeaderImageOrientation","fetchMovie","fetchMovieCredits","fetchMovieTrailer","ChildVariants","hidden","opacity","y","visible","id","console","log","credits","director","crew","filter","member","job","changeTab","event","currentTab","currentTarget","textContent","trailerAPI","trailerResults","results","trailer","length","find","item","name","includes","key","window","addEventListener","innerWidth","IMAGE_BASE_URL","BACKDROP_SIZE","backdrop_path","poster_path","POSTER_SIZE","x","duration","title","overview","delay","vote_average","map","convertTime","runtime","convertMoney","budget","genre"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api_details from \"../../../API_Details\";\r\n\r\n// Styled Components\r\nimport {\r\n  BackgroundHeaderImage,\r\n  BlurredOverlay,\r\n  MovieCard,\r\n  MovieCardImage,\r\n  Title,\r\n  Content,\r\n  Synopsis,\r\n  MovieDetails,\r\n  Ratings,\r\n  Director,\r\n  RunTime,\r\n  Budget,\r\n  MovieGenreContainer,\r\n  MovieGenre,\r\n  Tabs,\r\n  TabsContentMovieDetails,\r\n  TabsContentTrailer,\r\n  Trailer,\r\n} from \"./Header.styled\";\r\n\r\n// Calculations file\r\nimport Calculations from \"../../../Calculations\";\r\n\r\n// No Image picture\r\nimport NoImage from \"../../../Images/no_image.jpg\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// Movie Type\r\nimport { MovieState, GenreState } from \"../../../Pages/Home\";\r\n\r\ntype Props = {\r\n  headerMovie: MovieState;\r\n  genreList?: GenreState[];\r\n};\r\n\r\nexport type CastState = {\r\n  adult: boolean;\r\n  gender: number;\r\n  id: number;\r\n  known_for_department: string;\r\n  name: string;\r\n  original_name: string;\r\n  popularity: number;\r\n  profile_path: string;\r\n  credit_id: string;\r\n  department: string;\r\n  job: string;\r\n  character?: string;\r\n  biography?: string;\r\n  birthday?: string;\r\n  place_of_birth?: string;\r\n};\r\n\r\nexport type TrailerState = {\r\n  iso_639_1: string;\r\n  iso_3166_1: string;\r\n  name: string;\r\n  key: string;\r\n  site: string;\r\n  size: string;\r\n  type: string;\r\n  official: string;\r\n  published_at: string;\r\n  id: string;\r\n};\r\n\r\nconst Header: React.FC<Props> = ({ headerMovie, genreList }) => {\r\n  const [movie, setMovie] = useState<MovieState>();\r\n  const [directors, setDirectors] = useState<CastState[]>([]);\r\n  const [headerTab, setHeaderTab] = useState<string>(\"Movie Details\");\r\n  const [movieTrailerKey, setMovieTrailerKey] = useState<string>();\r\n  const [headerImageOrientation, setHeaderImageOrientation] =\r\n    useState<string>(\"portrait\");\r\n\r\n  useEffect(() => {\r\n    fetchMovie();\r\n    fetchMovieCredits();\r\n  }, [headerMovie]);\r\n\r\n  useEffect(() => {\r\n    fetchMovieTrailer();\r\n  }, [movie]);\r\n\r\n  const ChildVariants = {\r\n    hidden: {\r\n      opacity: 0,\r\n      y: 40,\r\n    },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  const fetchMovie = async () => {\r\n    try {\r\n      const movie = await api_details.fetchMovie(headerMovie.id);\r\n\r\n      setMovie(movie);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchMovieCredits = async () => {\r\n    try {\r\n      const credits = await api_details.fetchMovieCredits(headerMovie.id);\r\n\r\n      const director = credits.crew.filter(\r\n        (member: CastState) => member.job === \"Director\"\r\n      );\r\n\r\n      setDirectors(director);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const changeTab = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    const currentTab = event.currentTarget.textContent;\r\n    setHeaderTab(currentTab!);\r\n  };\r\n\r\n  const fetchMovieTrailer = async () => {\r\n    try {\r\n      const trailerAPI = await api_details.fetchMovieTrailer(\r\n        (movie as MovieState).id\r\n      );\r\n      const trailerResults = trailerAPI.results;\r\n      const trailer =\r\n        trailerResults.length > 1\r\n          ? trailerResults.find((item: TrailerState) =>\r\n              item.name.includes(\"Official Trailer\")\r\n            )\r\n          : trailerResults[0];\r\n\r\n      setMovieTrailerKey(trailer.key);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  window.addEventListener(\"resize\", () => {\r\n    if (window.innerWidth > 1024) {\r\n      setHeaderImageOrientation(\"landscape\");\r\n    } else {\r\n      setHeaderImageOrientation(\"portrait\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <BackgroundHeaderImage\r\n        image={`${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${headerMovie.backdrop_path}`}\r\n      >\r\n        <BlurredOverlay>\r\n          <MovieCard>\r\n            <MovieCardImage\r\n              src={\r\n                headerMovie.poster_path !== null\r\n                  ? headerImageOrientation === \"landscape\"\r\n                    ? `${api_details.IMAGE_BASE_URL}${api_details.POSTER_SIZE}${headerMovie.poster_path}`\r\n                    : `${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${headerMovie.backdrop_path}`\r\n                  : NoImage\r\n              }\r\n            />\r\n            <Content genreList={genreList}>\r\n              <Tabs genreList={genreList}>\r\n                <TabsContentMovieDetails\r\n                  onClick={changeTab}\r\n                  currentTab={headerTab}\r\n                >\r\n                  Movie Details\r\n                </TabsContentMovieDetails>\r\n                <TabsContentTrailer onClick={changeTab} currentTab={headerTab}>\r\n                  Trailer\r\n                </TabsContentTrailer>\r\n              </Tabs>\r\n              <AnimatePresence>\r\n                {headerTab === \"Movie Details\" ? (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    transition={{ duration: 0.4 }}\r\n                    exit={{ opacity: 0, x: -20 }}\r\n                  >\r\n                    <Title>{headerMovie.title}</Title>\r\n                    <Synopsis>{headerMovie.overview}</Synopsis>\r\n                    <MovieDetails>\r\n                      <Ratings\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.2 }}\r\n                      >\r\n                        <h4>Ratings</h4>\r\n                        <div className=\"ratings-score\">\r\n                          {movie && movie.vote_average}\r\n                        </div>\r\n                      </Ratings>\r\n                      <Director\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.35 }}\r\n                      >\r\n                        <h4>Director</h4>\r\n                        {directors.length !== 0 &&\r\n                          directors.map((director: CastState) => {\r\n                            return <p key={director.name}>{director.name}</p>;\r\n                          })}\r\n                      </Director>\r\n                      <RunTime\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.4 }}\r\n                      >\r\n                        <h4>Run Time</h4>\r\n                        <p>\r\n                          {movie && Calculations.convertTime(movie.runtime!)}\r\n                        </p>\r\n                      </RunTime>\r\n                      <Budget\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.5 }}\r\n                      >\r\n                        <h4>Budget</h4>\r\n                        <p>\r\n                          {movie && Calculations.convertMoney(movie.budget!)}\r\n                        </p>\r\n                      </Budget>\r\n                    </MovieDetails>\r\n                  </motion.div>\r\n                ) : (\r\n                  <Trailer\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={`https://www.youtube.com/embed/${movieTrailerKey}?autoplay=1&mute=1`}\r\n                  ></Trailer>\r\n                )}\r\n              </AnimatePresence>\r\n              {genreList && (\r\n                <div>\r\n                  <h4>Genres</h4>\r\n                  <MovieGenreContainer>\r\n                    {genreList.map((genre) => {\r\n                      return (\r\n                        <Link to={`/movies/genre/${genre.id}`} key={genre.id}>\r\n                          <MovieGenre>{genre.name}</MovieGenre>\r\n                        </Link>\r\n                      );\r\n                    })}\r\n                  </MovieGenreContainer>\r\n                </div>\r\n              )}\r\n            </Content>\r\n          </MovieCard>\r\n        </BlurredOverlay>\r\n      </BackgroundHeaderImage>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}