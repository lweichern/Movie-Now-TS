{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Dev\\\\React Course\\\\Project\\\\MovieNow-TS\\\\src\\\\Components\\\\MoviesPage\\\\Header\\\\Header.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport api_details from \"../../../API_Details\"; // Styled Components\n\nimport { BackgroundHeaderImage, BlurredOverlay, MovieCard, MovieCardImage, Title, Content, Synopsis, MovieDetails, Ratings, Director, RunTime, Budget, MovieGenreContainer, MovieGenre, Tabs, TabsContentMovieDetails, TabsContentTrailer, Trailer } from \"./Header.styled\"; // Calculations file\n\nimport Calculations from \"../../../Calculations\"; // No Image picture\n\nimport NoImage from \"../../../Images/no_image.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { motion, AnimatePresence } from \"framer-motion\"; // Movie Type\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = _ref => {\n  _s();\n\n  let {\n    headerMovie,\n    genreList\n  } = _ref;\n  const [movie, setMovie] = useState();\n  const [directors, setDirectors] = useState([]);\n  const [headerTab, setHeaderTab] = useState(\"Movie Details\");\n  const [movieTrailerKey, setMovieTrailerKey] = useState();\n  const [headerImageOrientation, setHeaderImageOrientation] = useState(\"portrait\");\n  useEffect(() => {\n    fetchMovie();\n    fetchMovieCredits();\n  }, [headerMovie]);\n  useEffect(() => {\n    fetchMovieTrailer();\n  }, [movie]);\n  const ChildVariants = {\n    hidden: {\n      opacity: 0,\n      y: 40\n    },\n    visible: {\n      opacity: 1,\n      y: 0\n    }\n  };\n\n  const fetchMovie = async () => {\n    try {\n      const movie = await api_details.fetchMovie(headerMovie.id);\n      setMovie(movie);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const fetchMovieCredits = async () => {\n    try {\n      const credits = await api_details.fetchMovieCredits(headerMovie.id);\n      const director = credits.crew.filter(member => member.job === \"Director\");\n      setDirectors(director);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const changeTab = event => {\n    const currentTab = event.currentTarget.textContent;\n    setHeaderTab(currentTab);\n  };\n\n  const fetchMovieTrailer = async () => {\n    try {\n      const trailerAPI = await api_details.fetchMovieTrailer(movie.id);\n      const trailerResults = trailerAPI.results;\n      const trailer = trailerResults.length > 1 ? trailerResults.find(item => item.name.includes(\"Official Trailer\")) : trailerResults[0];\n      setMovieTrailerKey(trailer.key);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  window.addEventListener(\"resize\", () => {\n    if (window.innerWidth > 1024) {\n      setHeaderImageOrientation(\"landscape\");\n    } else {\n      setHeaderImageOrientation(\"portrait\");\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(BackgroundHeaderImage, {\n      image: `${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${headerMovie.backdrop_path}`,\n      children: /*#__PURE__*/_jsxDEV(BlurredOverlay, {\n        children: /*#__PURE__*/_jsxDEV(MovieCard, {\n          children: [/*#__PURE__*/_jsxDEV(MovieCardImage, {\n            src: headerMovie.poster_path !== null ? headerImageOrientation === \"landscape\" ? `${api_details.IMAGE_BASE_URL}${api_details.POSTER_SIZE}${headerMovie.poster_path}` : `${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${headerMovie.backdrop_path}` : NoImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Content, {\n            genreList: genreList,\n            children: [/*#__PURE__*/_jsxDEV(Tabs, {\n              genreList: genreList,\n              children: [/*#__PURE__*/_jsxDEV(TabsContentMovieDetails, {\n                onClick: changeTab,\n                currentTab: headerTab,\n                children: \"Movie Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TabsContentTrailer, {\n                onClick: changeTab,\n                currentTab: headerTab,\n                children: \"Trailer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n              children: headerTab === \"Movie Details\" ? /*#__PURE__*/_jsxDEV(motion.div, {\n                initial: {\n                  opacity: 0,\n                  x: -20\n                },\n                animate: {\n                  opacity: 1,\n                  x: 0\n                },\n                transition: {\n                  duration: 0.4\n                },\n                exit: {\n                  opacity: 0,\n                  x: -20\n                },\n                children: [/*#__PURE__*/_jsxDEV(Title, {\n                  children: headerMovie.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Synopsis, {\n                  children: headerMovie.overview\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MovieDetails, {\n                  children: [/*#__PURE__*/_jsxDEV(Ratings, {\n                    className: \"info-column\",\n                    variants: ChildVariants,\n                    initial: \"hidden\",\n                    animate: \"visible\",\n                    transition: {\n                      delay: 0.2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Ratings\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ratings-score\",\n                      children: movie && movie.vote_average\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Director, {\n                    className: \"info-column\",\n                    variants: ChildVariants,\n                    initial: \"hidden\",\n                    animate: \"visible\",\n                    transition: {\n                      delay: 0.35\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Director\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 25\n                    }, this), directors.length !== 0 && directors.map(director => {\n                      return /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: director.name\n                      }, director.name, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 36\n                      }, this);\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(RunTime, {\n                    className: \"info-column\",\n                    variants: ChildVariants,\n                    initial: \"hidden\",\n                    animate: \"visible\",\n                    transition: {\n                      delay: 0.4\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Run Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: movie && Calculations.convertTime(movie.runtime)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Budget, {\n                    className: \"info-column\",\n                    variants: ChildVariants,\n                    initial: \"hidden\",\n                    animate: \"visible\",\n                    transition: {\n                      delay: 0.5\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Budget\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: movie && Calculations.convertMoney(movie.budget)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Trailer, {\n                width: \"100%\",\n                height: \"100%\",\n                src: `https://www.youtube.com/embed/${movieTrailerKey}?autoplay=1&mute=1`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), genreList && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Genres\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(MovieGenreContainer, {\n                children: genreList.map(genre => {\n                  return /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/movies/genre/${genre.id}`,\n                    children: /*#__PURE__*/_jsxDEV(MovieGenre, {\n                      children: genre.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 27\n                    }, this)\n                  }, genre.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Header, \"OmhMHGjzoMzGTKPiPp+IygQtqFo=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["D:/Web Dev/React Course/Project/MovieNow-TS/src/Components/MoviesPage/Header/Header.tsx"],"names":["React","useState","useEffect","api_details","BackgroundHeaderImage","BlurredOverlay","MovieCard","MovieCardImage","Title","Content","Synopsis","MovieDetails","Ratings","Director","RunTime","Budget","MovieGenreContainer","MovieGenre","Tabs","TabsContentMovieDetails","TabsContentTrailer","Trailer","Calculations","NoImage","Link","motion","AnimatePresence","Header","headerMovie","genreList","movie","setMovie","directors","setDirectors","headerTab","setHeaderTab","movieTrailerKey","setMovieTrailerKey","headerImageOrientation","setHeaderImageOrientation","fetchMovie","fetchMovieCredits","fetchMovieTrailer","ChildVariants","hidden","opacity","y","visible","id","error","console","log","credits","director","crew","filter","member","job","changeTab","event","currentTab","currentTarget","textContent","trailerAPI","trailerResults","results","trailer","length","find","item","name","includes","key","window","addEventListener","innerWidth","IMAGE_BASE_URL","BACKDROP_SIZE","backdrop_path","poster_path","POSTER_SIZE","x","duration","title","overview","delay","vote_average","map","convertTime","runtime","convertMoney","budget","genre"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api_details from \"../../../API_Details\";\r\n\r\n// Styled Components\r\nimport {\r\n  BackgroundHeaderImage,\r\n  BlurredOverlay,\r\n  MovieCard,\r\n  MovieCardImage,\r\n  Title,\r\n  Content,\r\n  Synopsis,\r\n  MovieDetails,\r\n  Ratings,\r\n  Director,\r\n  RunTime,\r\n  Budget,\r\n  MovieGenreContainer,\r\n  MovieGenre,\r\n  Tabs,\r\n  TabsContentMovieDetails,\r\n  TabsContentTrailer,\r\n  Trailer,\r\n} from \"./Header.styled\";\r\n\r\n// Calculations file\r\nimport Calculations from \"../../../Calculations\";\r\n\r\n// No Image picture\r\nimport NoImage from \"../../../Images/no_image.jpg\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// Movie Type\r\nimport { MovieState, GenreState } from \"../../../Pages/Home\";\r\nimport { StringLiteralLike } from \"typescript\";\r\n\r\ntype Props = {\r\n  headerMovie: MovieState;\r\n  genreList?: GenreState[];\r\n};\r\n\r\nexport type CastState = {\r\n  adult: boolean;\r\n  gender: number;\r\n  id: number;\r\n  known_for_department: string;\r\n  name: string;\r\n  original_name: string;\r\n  popularity: number;\r\n  profile_path: string;\r\n  credit_id: string;\r\n  department: string;\r\n  job: string;\r\n  character?: string;\r\n  biography?: string;\r\n  birthday?: string;\r\n  place_of_birth?: string;\r\n};\r\n\r\nexport type TrailerState = {\r\n  iso_639_1: string;\r\n  iso_3166_1: string;\r\n  name: string;\r\n  key: string;\r\n  site: string;\r\n  size: string;\r\n  type: string;\r\n  official: string;\r\n  published_at: string;\r\n  id: string;\r\n};\r\n\r\nconst Header: React.FC<Props> = ({ headerMovie, genreList }) => {\r\n  const [movie, setMovie] = useState<MovieState>();\r\n  const [directors, setDirectors] = useState<CastState[]>([]);\r\n  const [headerTab, setHeaderTab] = useState<string>(\"Movie Details\");\r\n  const [movieTrailerKey, setMovieTrailerKey] = useState<string>();\r\n  const [headerImageOrientation, setHeaderImageOrientation] =\r\n    useState<string>(\"portrait\");\r\n\r\n  useEffect(() => {\r\n    fetchMovie();\r\n    fetchMovieCredits();\r\n  }, [headerMovie]);\r\n\r\n  useEffect(() => {\r\n    fetchMovieTrailer();\r\n  }, [movie]);\r\n\r\n  const ChildVariants = {\r\n    hidden: {\r\n      opacity: 0,\r\n      y: 40,\r\n    },\r\n    visible: {\r\n      opacity: 1,\r\n      y: 0,\r\n    },\r\n  };\r\n\r\n  const fetchMovie = async () => {\r\n    try {\r\n      const movie = await api_details.fetchMovie(headerMovie.id);\r\n\r\n      setMovie(movie);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchMovieCredits = async () => {\r\n    try {\r\n      const credits = await api_details.fetchMovieCredits(headerMovie.id);\r\n\r\n      const director = credits.crew.filter(\r\n        (member: CastState) => member.job === \"Director\"\r\n      );\r\n\r\n      setDirectors(director);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const changeTab = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    const currentTab = event.currentTarget.textContent;\r\n    setHeaderTab(currentTab!);\r\n  };\r\n\r\n  const fetchMovieTrailer = async () => {\r\n    try {\r\n      const trailerAPI = await api_details.fetchMovieTrailer(\r\n        (movie as MovieState).id\r\n      );\r\n      const trailerResults = trailerAPI.results;\r\n      const trailer =\r\n        trailerResults.length > 1\r\n          ? trailerResults.find((item: TrailerState) =>\r\n              item.name.includes(\"Official Trailer\")\r\n            )\r\n          : trailerResults[0];\r\n\r\n      setMovieTrailerKey(trailer.key);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  window.addEventListener(\"resize\", () => {\r\n    if (window.innerWidth > 1024) {\r\n      setHeaderImageOrientation(\"landscape\");\r\n    } else {\r\n      setHeaderImageOrientation(\"portrait\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <BackgroundHeaderImage\r\n        image={`${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${headerMovie.backdrop_path}`}\r\n      >\r\n        <BlurredOverlay>\r\n          <MovieCard>\r\n            <MovieCardImage\r\n              src={\r\n                headerMovie.poster_path !== null\r\n                  ? headerImageOrientation === \"landscape\"\r\n                    ? `${api_details.IMAGE_BASE_URL}${api_details.POSTER_SIZE}${headerMovie.poster_path}`\r\n                    : `${api_details.IMAGE_BASE_URL}${api_details.BACKDROP_SIZE}${headerMovie.backdrop_path}`\r\n                  : NoImage\r\n              }\r\n            />\r\n            <Content genreList={genreList}>\r\n              <Tabs genreList={genreList}>\r\n                <TabsContentMovieDetails\r\n                  onClick={changeTab}\r\n                  currentTab={headerTab}\r\n                >\r\n                  Movie Details\r\n                </TabsContentMovieDetails>\r\n                <TabsContentTrailer onClick={changeTab} currentTab={headerTab}>\r\n                  Trailer\r\n                </TabsContentTrailer>\r\n              </Tabs>\r\n              <AnimatePresence>\r\n                {headerTab === \"Movie Details\" ? (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    transition={{ duration: 0.4 }}\r\n                    exit={{ opacity: 0, x: -20 }}\r\n                  >\r\n                    <Title>{headerMovie.title}</Title>\r\n                    <Synopsis>{headerMovie.overview}</Synopsis>\r\n                    <MovieDetails>\r\n                      <Ratings\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.2 }}\r\n                      >\r\n                        <h4>Ratings</h4>\r\n                        <div className=\"ratings-score\">\r\n                          {movie && movie.vote_average}\r\n                        </div>\r\n                      </Ratings>\r\n                      <Director\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.35 }}\r\n                      >\r\n                        <h4>Director</h4>\r\n                        {directors.length !== 0 &&\r\n                          directors.map((director: CastState) => {\r\n                            return <p key={director.name}>{director.name}</p>;\r\n                          })}\r\n                      </Director>\r\n                      <RunTime\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.4 }}\r\n                      >\r\n                        <h4>Run Time</h4>\r\n                        <p>\r\n                          {movie && Calculations.convertTime(movie.runtime!)}\r\n                        </p>\r\n                      </RunTime>\r\n                      <Budget\r\n                        className=\"info-column\"\r\n                        variants={ChildVariants}\r\n                        initial=\"hidden\"\r\n                        animate=\"visible\"\r\n                        transition={{ delay: 0.5 }}\r\n                      >\r\n                        <h4>Budget</h4>\r\n                        <p>\r\n                          {movie && Calculations.convertMoney(movie.budget!)}\r\n                        </p>\r\n                      </Budget>\r\n                    </MovieDetails>\r\n                  </motion.div>\r\n                ) : (\r\n                  <Trailer\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={`https://www.youtube.com/embed/${movieTrailerKey}?autoplay=1&mute=1`}\r\n                  ></Trailer>\r\n                )}\r\n              </AnimatePresence>\r\n              {genreList && (\r\n                <div>\r\n                  <h4>Genres</h4>\r\n                  <MovieGenreContainer>\r\n                    {genreList.map((genre) => {\r\n                      return (\r\n                        <Link to={`/movies/genre/${genre.id}`} key={genre.id}>\r\n                          <MovieGenre>{genre.name}</MovieGenre>\r\n                        </Link>\r\n                      );\r\n                    })}\r\n                  </MovieGenreContainer>\r\n                </div>\r\n              )}\r\n            </Content>\r\n          </MovieCard>\r\n        </BlurredOverlay>\r\n      </BackgroundHeaderImage>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}