{"ast":null,"code":"import React from\"react\";import{StyledNavHeader,StyledNavContent,StyledLogo,StyledLinks,StyledLinkItems,StyledSignIn,SignOutButton,StyledSignOut,Username}from\"./Navbar.styled\";import{Container}from\"../../../Styles/CommonStyles/Container\";import{Link}from\"react-router-dom\";import{FaUserCircle}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(_ref){var currentPage=_ref.currentPage,handleClick=_ref.handleClick;var user=JSON.parse(window.localStorage.getItem(\"user\"));// const dispatch = useDispatch();\nvar handleSignOut=function handleSignOut(){var updatedUser=JSON.parse(window.localStorage.getItem(\"user\"));var allUsers=JSON.parse(window.localStorage.getItem(\"users\"));var updatedUserArray=allUsers.filter(function(item){return item.username!==user.username;});updatedUserArray.push(updatedUser);window.localStorage.setItem(\"users\",JSON.stringify(updatedUserArray));window.localStorage.setItem(\"user\",JSON.stringify(null));// dispatch(logout());\nwindow.location.reload();};return/*#__PURE__*/_jsx(StyledNavHeader,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(StyledNavContent,{children:[/*#__PURE__*/_jsx(StyledLogo,{children:\"MovieNow\"}),/*#__PURE__*/_jsxs(StyledLinks,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(StyledLinkItems,{onClick:handleClick,style:{borderBottom:\"\".concat(currentPage===\"Home\"?\"2px solid #fff\":\"2px solid transparent\")},children:\"Home\"})}),/*#__PURE__*/_jsx(Link,{to:\"/movies\",children:/*#__PURE__*/_jsx(StyledLinkItems,{onClick:handleClick,style:{borderBottom:\"\".concat(currentPage===\"Movies\"?\"2px solid #fff\":\"2px solid transparent\")},children:\"Movies\"})})]}),JSON.parse(window.localStorage.getItem(\"user\"))===null?/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:/*#__PURE__*/_jsx(StyledSignIn,{children:\"Sign In\"})}):/*#__PURE__*/_jsxs(StyledSignOut,{children:[/*#__PURE__*/_jsxs(Username,{children:[/*#__PURE__*/_jsx(FaUserCircle,{}),\" \",user.username]}),/*#__PURE__*/_jsx(SignOutButton,{onClick:handleSignOut,children:\"Sign Out\"})]})]})})});};export default Navbar;","map":{"version":3,"sources":["D:/Web Dev/React Course/Project/MovieNow-TS/src/Components/Common/Navbar/Navbar.tsx"],"names":["React","StyledNavHeader","StyledNavContent","StyledLogo","StyledLinks","StyledLinkItems","StyledSignIn","SignOutButton","StyledSignOut","Username","Container","Link","FaUserCircle","Navbar","currentPage","handleClick","user","JSON","parse","window","localStorage","getItem","handleSignOut","updatedUser","allUsers","updatedUserArray","filter","item","username","push","setItem","stringify","location","reload","borderBottom"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,eADF,CAEEC,gBAFF,CAGEC,UAHF,CAIEC,WAJF,CAKEC,eALF,CAMEC,YANF,CAOEC,aAPF,CAQEC,aARF,CASEC,QATF,KAUO,iBAVP,CAWA,OAASC,SAAT,KAA0B,wCAA1B,CAEA,OAASC,IAAT,KAAqB,kBAArB,CAEA,OAASC,YAAT,KAA6B,gBAA7B,C,wFAcA,GAAMC,CAAAA,MAAwB,CAAG,QAA3BA,CAAAA,MAA2B,MAAkC,IAA/BC,CAAAA,WAA+B,MAA/BA,WAA+B,CAAlBC,WAAkB,MAAlBA,WAAkB,CACjE,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,CAAb,CAEA;AACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAMC,CAAAA,WAAW,CAAGN,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,CAApB,CACA,GAAMG,CAAAA,QAAQ,CAAGP,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,CAAjB,CAEA,GAAMI,CAAAA,gBAAgB,CAAGD,QAAQ,CAACE,MAAT,CACvB,SAACC,IAAD,QAAqBA,CAAAA,IAAI,CAACC,QAAL,GAAkBZ,IAAI,CAACY,QAA5C,EADuB,CAAzB,CAIAH,gBAAgB,CAACI,IAAjB,CAAsBN,WAAtB,EAEAJ,MAAM,CAACC,YAAP,CAAoBU,OAApB,CAA4B,OAA5B,CAAqCb,IAAI,CAACc,SAAL,CAAeN,gBAAf,CAArC,EAEAN,MAAM,CAACC,YAAP,CAAoBU,OAApB,CAA4B,MAA5B,CAAoCb,IAAI,CAACc,SAAL,CAAe,IAAf,CAApC,EAEA;AAEAZ,MAAM,CAACa,QAAP,CAAgBC,MAAhB,GACD,CAjBD,CAkBA,mBACE,KAAC,eAAD,wBACE,KAAC,SAAD,wBACE,MAAC,gBAAD,yBACE,KAAC,UAAD,uBADF,cAEE,MAAC,WAAD,yBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,KAAC,eAAD,EACE,OAAO,CAAElB,WADX,CAEE,KAAK,CAAE,CACLmB,YAAY,WACVpB,WAAW,GAAK,MAAhB,CACI,gBADJ,CAEI,uBAHM,CADP,CAFT,kBADF,EADF,cAgBE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,uBACE,KAAC,eAAD,EACE,OAAO,CAAEC,WADX,CAEE,KAAK,CAAE,CACLmB,YAAY,WACVpB,WAAW,GAAK,QAAhB,CACI,gBADJ,CAEI,uBAHM,CADP,CAFT,oBADF,EAhBF,GAFF,CAiCGG,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,IAAqD,IAArD,cACC,KAAC,IAAD,EAAM,EAAE,CAAE,UAAV,uBACE,KAAC,YAAD,sBADF,EADD,cAKC,MAAC,aAAD,yBACE,MAAC,QAAD,yBACE,KAAC,YAAD,IADF,KACoBL,IAAI,CAACY,QADzB,GADF,cAIE,KAAC,aAAD,EAAe,OAAO,CAAEN,aAAxB,sBAJF,GAtCJ,GADF,EADF,EADF,CAoDD,CA1ED,CA4EA,cAAeT,CAAAA,MAAf","sourcesContent":["import React from \"react\";\r\nimport {\r\n  StyledNavHeader,\r\n  StyledNavContent,\r\n  StyledLogo,\r\n  StyledLinks,\r\n  StyledLinkItems,\r\n  StyledSignIn,\r\n  SignOutButton,\r\n  StyledSignOut,\r\n  Username,\r\n} from \"./Navbar.styled\";\r\nimport { Container } from \"../../../Styles/CommonStyles/Container\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\n\r\nexport type UserState = {\r\n  email: string;\r\n  username: string;\r\n  password: string;\r\n  favoriteMovies: number[];\r\n};\r\n\r\ntype IProps = {\r\n  currentPage: string;\r\n  handleClick: React.MouseEventHandler<HTMLLIElement>;\r\n};\r\n\r\nconst Navbar: React.FC<IProps> = ({ currentPage, handleClick }) => {\r\n  const user = JSON.parse(window.localStorage.getItem(\"user\")!);\r\n\r\n  // const dispatch = useDispatch();\r\n  const handleSignOut = () => {\r\n    const updatedUser = JSON.parse(window.localStorage.getItem(\"user\")!);\r\n    const allUsers = JSON.parse(window.localStorage.getItem(\"users\")!);\r\n\r\n    const updatedUserArray = allUsers.filter(\r\n      (item: UserState) => item.username !== user.username\r\n    );\r\n\r\n    updatedUserArray.push(updatedUser);\r\n\r\n    window.localStorage.setItem(\"users\", JSON.stringify(updatedUserArray));\r\n\r\n    window.localStorage.setItem(\"user\", JSON.stringify(null));\r\n\r\n    // dispatch(logout());\r\n\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <StyledNavHeader>\r\n      <Container>\r\n        <StyledNavContent>\r\n          <StyledLogo>MovieNow</StyledLogo>\r\n          <StyledLinks>\r\n            <Link to=\"/\">\r\n              <StyledLinkItems\r\n                onClick={handleClick}\r\n                style={{\r\n                  borderBottom: `${\r\n                    currentPage === \"Home\"\r\n                      ? \"2px solid #fff\"\r\n                      : \"2px solid transparent\"\r\n                  }`,\r\n                }}\r\n              >\r\n                Home\r\n              </StyledLinkItems>\r\n            </Link>\r\n\r\n            <Link to=\"/movies\">\r\n              <StyledLinkItems\r\n                onClick={handleClick}\r\n                style={{\r\n                  borderBottom: `${\r\n                    currentPage === \"Movies\"\r\n                      ? \"2px solid #fff\"\r\n                      : \"2px solid transparent\"\r\n                  }`,\r\n                }}\r\n              >\r\n                Movies\r\n              </StyledLinkItems>\r\n            </Link>\r\n          </StyledLinks>\r\n          {JSON.parse(window.localStorage.getItem(\"user\")!) === null ? (\r\n            <Link to={\"/sign-in\"}>\r\n              <StyledSignIn>Sign In</StyledSignIn>\r\n            </Link>\r\n          ) : (\r\n            <StyledSignOut>\r\n              <Username>\r\n                <FaUserCircle /> {user.username}\r\n              </Username>\r\n              <SignOutButton onClick={handleSignOut}>Sign Out</SignOutButton>\r\n            </StyledSignOut>\r\n          )}\r\n        </StyledNavContent>\r\n      </Container>\r\n    </StyledNavHeader>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}