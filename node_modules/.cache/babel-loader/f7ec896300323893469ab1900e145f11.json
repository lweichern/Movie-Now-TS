{"ast":null,"code":"import React from\"react\";import{StyledNavHeader,StyledNavContent,StyledLogo,StyledLinks,StyledLinkItems,StyledSignIn,SignOutButton,StyledSignOut,Username}from\"./Navbar.styled\";import{Container}from\"../../../Styles/CommonStyles/Container\";import{Link,useLocation}from\"react-router-dom\";import{FaUserCircle}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var user=JSON.parse(window.localStorage.getItem(\"user\"));var location=useLocation();var currentPath=location.pathname;// const dispatch = useDispatch();\nvar handleSignOut=function handleSignOut(){var updatedUser=JSON.parse(window.localStorage.getItem(\"user\"));var allUsers=JSON.parse(window.localStorage.getItem(\"users\"));var updatedUserArray=allUsers.filter(function(item){return item.username!==user.username;});updatedUserArray.push(updatedUser);window.localStorage.setItem(\"users\",JSON.stringify(updatedUserArray));window.localStorage.setItem(\"user\",JSON.stringify(null));// dispatch(logout());\nwindow.location.reload();};return/*#__PURE__*/_jsx(StyledNavHeader,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(StyledNavContent,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(StyledLogo,{children:\"MovieNow\"})}),/*#__PURE__*/_jsxs(StyledLinks,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(StyledLinkItems,{style:{borderBottom:\"\".concat(currentPath===\"/\"?\"2px solid #fff\":\"2px solid transparent\")},children:\"Home\"})}),/*#__PURE__*/_jsx(Link,{to:\"/movies\",children:/*#__PURE__*/_jsx(StyledLinkItems,{style:{borderBottom:\"\".concat(currentPath.includes(\"movies\")?\"2px solid #fff\":\"2px solid transparent\")},children:\"Movies\"})})]}),JSON.parse(window.localStorage.getItem(\"user\"))===null?/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:/*#__PURE__*/_jsx(StyledSignIn,{children:\"Sign In\"})}):/*#__PURE__*/_jsxs(StyledSignOut,{children:[/*#__PURE__*/_jsxs(Username,{children:[/*#__PURE__*/_jsx(FaUserCircle,{}),\" \",user.username]}),/*#__PURE__*/_jsx(SignOutButton,{onClick:handleSignOut,children:\"Sign Out\"})]})]})})});};export default Navbar;","map":{"version":3,"sources":["D:/Web Dev/React Course/Project/MovieNow-TS/src/Components/Common/Navbar/Navbar.tsx"],"names":["React","StyledNavHeader","StyledNavContent","StyledLogo","StyledLinks","StyledLinkItems","StyledSignIn","SignOutButton","StyledSignOut","Username","Container","Link","useLocation","FaUserCircle","Navbar","user","JSON","parse","window","localStorage","getItem","location","currentPath","pathname","handleSignOut","updatedUser","allUsers","updatedUserArray","filter","item","username","push","setItem","stringify","reload","borderBottom","includes"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAiC,OAAjC,CACA,OACEC,eADF,CAEEC,gBAFF,CAGEC,UAHF,CAIEC,WAJF,CAKEC,eALF,CAMEC,YANF,CAOEC,aAPF,CAQEC,aARF,CASEC,QATF,KAUO,iBAVP,CAWA,OAASC,SAAT,KAA0B,wCAA1B,CAEA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CAEA,OAASC,YAAT,KAA6B,gBAA7B,C,wFASA,GAAMC,CAAAA,MAAgB,CAAG,QAAnBA,CAAAA,MAAmB,EAAM,CAC7B,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,CAAb,CAEA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,WAAW,CAAGD,QAAQ,CAACE,QAA7B,CAEA;AACA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,GAAMC,CAAAA,WAAW,CAAGT,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,CAApB,CACA,GAAMM,CAAAA,QAAQ,CAAGV,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,CAAjB,CAEA,GAAMO,CAAAA,gBAAgB,CAAGD,QAAQ,CAACE,MAAT,CACvB,SAACC,IAAD,QAAqBA,CAAAA,IAAI,CAACC,QAAL,GAAkBf,IAAI,CAACe,QAA5C,EADuB,CAAzB,CAIAH,gBAAgB,CAACI,IAAjB,CAAsBN,WAAtB,EAEAP,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4B,OAA5B,CAAqChB,IAAI,CAACiB,SAAL,CAAeN,gBAAf,CAArC,EAEAT,MAAM,CAACC,YAAP,CAAoBa,OAApB,CAA4B,MAA5B,CAAoChB,IAAI,CAACiB,SAAL,CAAe,IAAf,CAApC,EAEA;AAEAf,MAAM,CAACG,QAAP,CAAgBa,MAAhB,GACD,CAjBD,CAkBA,mBACE,KAAC,eAAD,wBACE,KAAC,SAAD,wBACE,MAAC,gBAAD,yBACE,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,uBACE,KAAC,UAAD,uBADF,EADF,cAKE,MAAC,WAAD,yBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,KAAC,eAAD,EACE,KAAK,CAAE,CACLC,YAAY,WACVb,WAAW,GAAK,GAAhB,CACI,gBADJ,CAEI,uBAHM,CADP,CADT,kBADF,EADF,cAeE,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,uBACE,KAAC,eAAD,EACE,KAAK,CAAE,CACLa,YAAY,WACVb,WAAW,CAACc,QAAZ,CAAqB,QAArB,EACI,gBADJ,CAEI,uBAHM,CADP,CADT,oBADF,EAfF,GALF,CAkCGpB,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,IAAqD,IAArD,cACC,KAAC,IAAD,EAAM,EAAE,CAAE,UAAV,uBACE,KAAC,YAAD,sBADF,EADD,cAKC,MAAC,aAAD,yBACE,MAAC,QAAD,yBACE,KAAC,YAAD,IADF,KACoBL,IAAI,CAACe,QADzB,GADF,cAIE,KAAC,aAAD,EAAe,OAAO,CAAEN,aAAxB,sBAJF,GAvCJ,GADF,EADF,EADF,CAqDD,CA9ED,CAgFA,cAAeV,CAAAA,MAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {\r\n  StyledNavHeader,\r\n  StyledNavContent,\r\n  StyledLogo,\r\n  StyledLinks,\r\n  StyledLinkItems,\r\n  StyledSignIn,\r\n  SignOutButton,\r\n  StyledSignOut,\r\n  Username,\r\n} from \"./Navbar.styled\";\r\nimport { Container } from \"../../../Styles/CommonStyles/Container\";\r\n\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\n\r\nexport type UserState = {\r\n  email: string;\r\n  username: string;\r\n  password: string;\r\n  favoriteMovies: number[];\r\n};\r\n\r\nconst Navbar: React.FC = () => {\r\n  const user = JSON.parse(window.localStorage.getItem(\"user\")!);\r\n\r\n  const location = useLocation();\r\n  const currentPath = location.pathname;\r\n\r\n  // const dispatch = useDispatch();\r\n  const handleSignOut = () => {\r\n    const updatedUser = JSON.parse(window.localStorage.getItem(\"user\")!);\r\n    const allUsers = JSON.parse(window.localStorage.getItem(\"users\")!);\r\n\r\n    const updatedUserArray = allUsers.filter(\r\n      (item: UserState) => item.username !== user.username\r\n    );\r\n\r\n    updatedUserArray.push(updatedUser);\r\n\r\n    window.localStorage.setItem(\"users\", JSON.stringify(updatedUserArray));\r\n\r\n    window.localStorage.setItem(\"user\", JSON.stringify(null));\r\n\r\n    // dispatch(logout());\r\n\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <StyledNavHeader>\r\n      <Container>\r\n        <StyledNavContent>\r\n          <Link to={\"/\"}>\r\n            <StyledLogo>MovieNow</StyledLogo>\r\n          </Link>\r\n\r\n          <StyledLinks>\r\n            <Link to=\"/\">\r\n              <StyledLinkItems\r\n                style={{\r\n                  borderBottom: `${\r\n                    currentPath === \"/\"\r\n                      ? \"2px solid #fff\"\r\n                      : \"2px solid transparent\"\r\n                  }`,\r\n                }}\r\n              >\r\n                Home\r\n              </StyledLinkItems>\r\n            </Link>\r\n\r\n            <Link to=\"/movies\">\r\n              <StyledLinkItems\r\n                style={{\r\n                  borderBottom: `${\r\n                    currentPath.includes(\"movies\")\r\n                      ? \"2px solid #fff\"\r\n                      : \"2px solid transparent\"\r\n                  }`,\r\n                }}\r\n              >\r\n                Movies\r\n              </StyledLinkItems>\r\n            </Link>\r\n          </StyledLinks>\r\n          {JSON.parse(window.localStorage.getItem(\"user\")!) === null ? (\r\n            <Link to={\"/sign-in\"}>\r\n              <StyledSignIn>Sign In</StyledSignIn>\r\n            </Link>\r\n          ) : (\r\n            <StyledSignOut>\r\n              <Username>\r\n                <FaUserCircle /> {user.username}\r\n              </Username>\r\n              <SignOutButton onClick={handleSignOut}>Sign Out</SignOutButton>\r\n            </StyledSignOut>\r\n          )}\r\n        </StyledNavContent>\r\n      </Container>\r\n    </StyledNavHeader>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}